<!DOCTYPE html>
<html lang="en">

<head>
    <title>PEC - Diseño y Desarrollo II</title>
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald:300,400|Roboto:400,700">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

</head>

<style>
    input {
        display: block;
        margin-bottom: 12px;
    }
    
    .btn-mi {
        max-width: 50%;
        width: 50%;
        align-items: center;
    }
    
    .font-mi {
        font-size: 75%;
    }
    
    .margin-top-1 {
        margin-top: 1rem;
    }
    
    .font-mi-1 {
        line-height: 1;
        font-size: 95%;
    }
    
    .line-mi {
        line-height: 1;
    }
    
    .center-mi {
        position: fixed;
        text-align: center;
        margin: auto;
    }
    
    .center-align {
        text-align: center;
    }
    
    .right-align {
        text-align: right;
    }
    
    .padding-mi {
        padding-top: 2rem;
        padding-bottom: 2rem;
        padding-right: 1rem;
        padding-left: 1rem;
    }
    
    .w-15 {
        width: 15% !important;
    }
    
    .w-20 {
        width: 20% !important;
    }
    
    .w-30 {
        width: 30% !important;
    }
    
    .w-40 {
        width: 40% !important;
    }
    
    .w-45 {
        width: 45% !important;
    }

    .w-100 {
        width: 100% !important;
    }

    .btn-primary:disabled {
        background-color: #A4A4A4;
    }

    .event-log {
        height: 20rem;
    }

</style>

<body>

    <nav class="navbar navbar-dark bg-primary text-white">
        <h4>PEC - Diseño y Desarrollo II</h4>
        <h6>Creado por Jesús Leal</h6>
    </nav>

    <div class="row h-100 my-5">

        <aside class="col-md-3 line-mi">

            <div role="alert" class="alert alert-success">
                <h6 class="alert-heading">Estado:</h6>
                <span id="status">Loading...</span>
                <div class="spinner-border spinner-border-sm" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
            </div>

            <div class="card bg-faded border-1 mb-3">
                <div class="card-body border-1">
                    <h6 class="card-title">Cuenta:</h6>
                    <p class="card-text font-mi-1" id="cuenta">0x000000000000000000000000000000</p>
                </div>
            </div>
            <div class="card bg-faded border-1 mb-3">
                <div class="card-body border-1">
                    <h6 class="card-title">Saldo:</h6>
                    <p class="card-text" id="saldo">unknow</p>
                </div>
            </div>
            <div class="card bg-faded border-1 mb-3">
                <div class="card-body border-1">
                    <h6 class="card-title">Red:</h6>
                    <p class="card-text" id="red">unknow</p>
                </div>
            </div>
            <div class="card bg-faded border-1 mb-3">
                <div class="card-body border-1">
                    <h6 class="card-title">Log:</h6>
                    <textarea readonly class="w-100 event-log" id="eventsLog"></textarea>
                </div>
                <div>
                    <p class="center-align">
                        Tokens en circulación: <b><span id="globalBalance">unknown</span></b>
                    </p>
                </div>
            </div>

            <footer class="footer center-align">
                <a href="http://github.com/lealp22" target="_blank" class="ht-tm-element btn btn-outline-primary">
                    <span class="fab fa-github mr-2"></span>Git
                </a>
                <a href="https://www.linkedin.com/in/jesusleal/" target="_blank" class="ht-tm-element btn btn-outline-primary">
                    <span class="fab fa-twitter mr-2"></span>Twitter
                </a>
                <a href="mailto:lealp22@yahoo.com" target="_blank" class="ht-tm-element btn btn-outline-primary">
                    <span class="fab fa-envelope mr-2"></span>email
                </a>
            </footer>

        </aside>

        <main class="col">

            <div class="jumbotron min-75 padding-mi">

                <div>
                    <h3>Recolección</h3>
                </div>

                <div>

                    <div class="row">
                        <div class="col-2">
                            <strong>Código</strong>
                        </div>
                        <div class="col-5">
                            <strong>Descripción</strong>
                        </div>
                        <div class="col-2">
                            <strong>Cantidad</strong>
                        </div>
                        <div class="col-2">
                            <strong>Medida</strong>
                        </div>
                        <div class="col-1">
                            <strong>Tokens</strong>
                        </div>                        
                    </div>

                    <div class="row">
                        <div class="col-2">
                            <input type="text" id="codebar" required autofocus placeholder="Introduce código de barras" class="form-control" onblur="App.processCode()" />
                        </div>
                        <div class="col-5">
                            <input type="text" id="description" class="form-control" disabled/>
                        </div>
                        <div class="col-2">
                            <input type="number" id="quantity" value="1" required="" min="1" max="100" placeholder="cantidad a entregar" class="form-control" onchange="App.calculateAmount()" />
                        </div>
                        <div class="col-2">
                            <select id="measure" required="" class="form-control">
                                <option value="UNI" data-isdefault="true" selected="true">Unidades</option>
                                <option value="KGM">Kilos</option>
                            </select>
                        </div>
                        <div class="col-1">
                            <input type="text" id="amount" class="form-control center-align" disabled/>
                        </div>
                    </div>

                    <div>
                        <button id="sendButton" onclick="App.sendCoin()" class="btn btn-primary btn-lg btn-block btn-mi m-auto" disabled>Enviar</button>
                    </div>

                </div>

            </div>

            <div class="margin-top-1"></div>

            <div class="jumbotron min-75 padding-mi">

                <div>
                    <h3>Últimas Recolecciones</h3>
                </div>

                <div class="table-responsive">

                    <table class="table table-hover table-bordered" id="table-items">
                        <thead>
                            <tr>
                                <th class="w-20">Código</th>
                                <th class="w-40">Descripción</th>
                                <th class="w-15 center-align">Cantidad</th>
                                <th class="w-15">Medida</th>
                                <th class="w-10 center-align">Tokens</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td></td>
                                <td></td>
                                <td class="center-align"></td>
                                <td></td>
                                <td class="right-align"></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td class="center-align"></td>
                                <td></td>
                                <td class="right-align"></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td class="center-align"></td>
                                <td></td>
                                <td class="right-align"></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td class="center-align"></td>
                                <td></td>
                                <td class="right-align"></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td class="center-align"></td>
                                <td></td>
                                <td class="right-align"></td>
                            </tr>

                        </tbody>
                    </table>

                </div>
                <div>
                    <p class="center-align">
                        Total movimientos: <b><span id="mvtsCount">unknown</span></b>
                    </p>
                </div>

            </div>

            <script src="index.js"></script>

</body>

</html>